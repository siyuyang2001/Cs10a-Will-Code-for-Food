def generate_random_word():
    import random
    word_list = ['apple','pick','brandeis','sherman','python']
    random_word = random.choice(word_list)
    return random_word

def play_hangman():
    def word(random_word,letter):
        start_at = -1
        positions = []
        while True:
            try:
                position = random_word.index(letter,start_at+1)
            except ValueError:
                break
            else:
                positions.append(position)
                start_at = position
        return positions


    import random
    question1 = input('Do you want to play hangman?')
    if question1.lower().startswith('y'):
        while True:
            word_list = ['apple', 'pick', 'brandeis', 'sherman', 'python']
            random_word = random.choice(word_list)
            chances = int(len(random_word))
            length = int(len(random_word))
            correct_answer = list(random_word)
            guess = ['-']*chances
            while length > 0 and chances > 0:
                print('----------------------------------------------')
                print(guess)
                print(chances, 'chances left')
                letter = input('Guess a letter')
                if letter in guess:
                    chances = chances - 1
                    print("You have already guessed this letter. Please try another one. You have",chances,'more chances')
                    continue
                if letter in correct_answer:

                    for i in word(random_word, letter):
                        guess[i]=correct_answer[i]
                        length = length - 1
                    print("Great!",chances,'chances left' )
                    print(guess)
                if letter not in correct_answer:
                    chances = chances - 1
                    print("Sorry, this letter is not in the word. Please try again. You have",chances, "more chances")
            if length == 0:
                question2 = input(("Great! you won! Do you want to play it again?"))
                if question2.lower().startswith('y'):
                    continue
                else:
                    print("Thank you for playing the game")
                    break
            if chances == 0:
                question3 = input(("Sorry, you lose. Do you want to play it again?"))
                if question3.lower().startswith('y'):
                    continue
                else:
                    print("Thank you for playing the game")
                    break
    else:
        print('Why did you open it??????')


play_hangman()





if __name__ == '__main__':
    play_hangman()
